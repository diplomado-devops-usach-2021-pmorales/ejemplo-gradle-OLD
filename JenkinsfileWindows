node {
	
	checkout scm
	
	stage('build & test'){
		bat 'gradlew clean build'
	}

	stage('sonar'){
	    def sonarhome = tool 'sonar'
        bat "${sonarhome}\\bin\\sonar-scanner -Dsonar.projectKey=ejemplo-gradle -Dsonar.java.binaries=build"
	}

	stage('run'){
	
	}

	stage('rest'){
	
	}

	stage('nexus'){
		
	}

}
